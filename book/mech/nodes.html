<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Nodes - AirshipCraft Documentation</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/pagetoc.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">Introduction</a></li><li class="chapter-item expanded affix "><a href="../CHANGELOG.html">Changelog</a></li><li class="chapter-item expanded affix "><li class="part-title">Mechanics</li><li class="chapter-item expanded "><a href="../mech/economy.html"><strong aria-hidden="true">1.</strong> Economy</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../mech/economy/market.html"><strong aria-hidden="true">1.1.</strong> Market</a></li><li class="chapter-item expanded "><a href="../mech/economy/spreadsheet.html"><strong aria-hidden="true">1.2.</strong> Spreadsheet</a></li><li class="chapter-item expanded "><a href="../mech/economy/banking.html"><strong aria-hidden="true">1.3.</strong> Banking</a></li><li class="chapter-item expanded "><a href="../mech/economy/companies.html"><strong aria-hidden="true">1.4.</strong> Companies</a></li><li class="chapter-item expanded "><a href="../mech/economy/resources.html"><strong aria-hidden="true">1.5.</strong> Resources</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../mech/economy/resources/crops.html"><strong aria-hidden="true">1.5.1.</strong> Crops</a></li><li class="chapter-item expanded "><a href="../mech/economy/resources/hiddenore.html"><strong aria-hidden="true">1.5.2.</strong> HiddenOre</a></li></ol></li><li class="chapter-item expanded "><a href="../mech/economy/API.html"><strong aria-hidden="true">1.6.</strong> API</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../mech/economy/api/hierarchy.html"><strong aria-hidden="true">1.6.1.</strong> Class Hierarchy</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../mech/npc.html"><strong aria-hidden="true">2.</strong> NPCs</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">2.1.</strong> Types</div></li></ol></li><li class="chapter-item expanded "><a href="../mech/combat.html"><strong aria-hidden="true">3.</strong> Combat</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../mech/combat/movecraft.html"><strong aria-hidden="true">3.1.</strong> Movecraft</a></li><li class="chapter-item expanded "><a href="../mech/combat/damagetypes.html"><strong aria-hidden="true">3.2.</strong> Damage Types</a></li><li class="chapter-item expanded "><a href="../mech/combat/artifacts.html"><strong aria-hidden="true">3.3.</strong> Artifacts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../mech/combat/artifact-list.html"><strong aria-hidden="true">3.3.1.</strong> List of Artifacts</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../mech/skills.html"><strong aria-hidden="true">4.</strong> Skills</a></li><li class="chapter-item expanded "><a href="../mech/cults.html"><strong aria-hidden="true">5.</strong> Cults</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../mech/cults/objects.html"><strong aria-hidden="true">5.1.</strong> Objects</a></li><li class="chapter-item expanded "><a href="../mech/cults/config.html"><strong aria-hidden="true">5.2.</strong> Configuration</a></li><li class="chapter-item expanded "><a href="../mech/cults/altars.html"><strong aria-hidden="true">5.3.</strong> Altars</a></li><li class="chapter-item expanded "><a href="../mech/cults/shrines.html"><strong aria-hidden="true">5.4.</strong> Shrines</a></li><li class="chapter-item expanded "><a href="../mech/cults/transmutations.html"><strong aria-hidden="true">5.5.</strong> Transmutations</a></li></ol></li><li class="chapter-item expanded "><a href="../mech/nodes.html" class="active"><strong aria-hidden="true">6.</strong> Nodes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../mech/nodes/territories.html"><strong aria-hidden="true">6.1.</strong> Territories</a></li><li class="chapter-item expanded "><a href="../mech/nodes/handles-over-ids.html"><strong aria-hidden="true">6.2.</strong> Prefer Handles over IDs</a></li><li class="chapter-item expanded "><a href="../mech/nodes/nation-system.html"><strong aria-hidden="true">6.3.</strong> Nation System</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../mech/nodes/nations/objects.html"><strong aria-hidden="true">6.3.1.</strong> Objects</a></li><li class="chapter-item expanded "><a href="../mech/nodes/nations/permissions.html"><strong aria-hidden="true">6.3.2.</strong> Permissions</a></li></ol></li><li class="chapter-item expanded "><a href="../mech/nodes/npc-integration.html"><strong aria-hidden="true">6.4.</strong> NPC Integration</a></li></ol></li><li class="chapter-item expanded "><a href="../mech/quests.html"><strong aria-hidden="true">7.</strong> Quests</a></li><li class="chapter-item expanded affix "><li class="part-title">Map</li><li class="chapter-item expanded "><a href="../map/regions.html"><strong aria-hidden="true">8.</strong> Regions</a></li><li class="chapter-item expanded "><a href="../map/cities.html"><strong aria-hidden="true">9.</strong> City States</a></li><li class="chapter-item expanded "><a href="../map/mapoverview.html"><strong aria-hidden="true">10.</strong> Map Overview</a></li><li class="chapter-item expanded affix "><li class="part-title">Core</li><li class="chapter-item expanded "><a href="../core/common-lib.html"><strong aria-hidden="true">11.</strong> ACCommonLib</a></li><li class="chapter-item expanded "><a href="../core/datum.html"><strong aria-hidden="true">12.</strong> Datum</a></li><li class="chapter-item expanded affix "><li class="part-title">General Development</li><li class="chapter-item expanded "><a href="../administration/housekeeping.html"><strong aria-hidden="true">13.</strong> Housekeeping</a></li><li class="chapter-item expanded "><a href="../administration/optimization.html"><strong aria-hidden="true">14.</strong> Optimization</a></li><li class="chapter-item expanded "><a href="../administration/coding-standard.html"><strong aria-hidden="true">15.</strong> Coding Standard</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../administration/commits.html"><strong aria-hidden="true">15.1.</strong> Proper Git Commits</a></li></ol></li><li class="chapter-item expanded "><a href="../administration/project-timeline.html"><strong aria-hidden="true">16.</strong> Project Timeline</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../administration/timeline/phase-1.html"><strong aria-hidden="true">16.1.</strong> Phase 1</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Misc</li><li class="chapter-item expanded "><a href="../misc/lore.html"><strong aria-hidden="true">17.</strong> Lore</a></li><li class="chapter-item expanded affix "><a href="../misc/contributions.html">Contributions</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">AirshipCraft Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <blockquote>
<p><span style="color:red">Currently unimplemented.</span></p>
</blockquote>
<h1 id="nodes"><a class="header" href="#nodes">Nodes</a></h1>
<p>The nodes system is a claim system that essentially combines aspects of Towny and a plugin called, &quot;Nodes&quot; by <a href="https://github.com/phonon/minecraft-nodes">phonon</a> (See his documentation for it <a href="https://nodes.soy/4-1-territories.html">here</a> for a better overview of what it does, I will be summarizing most of it here). We will be working off the fork by <a href="https://github.com/crusalis/multi-nodes/tree/master/nodes/src/main/kotlin/phonon/nodes">crusallis</a> as it's more updated.</p>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>The nodes system can be summarized below in seven main points:</p>
<ol>
<li>The map is segmented into pre-created territories which are groups of contiguous Minecraft chunks.</li>
<li>Territories have different resource nodes which provide different resource yields from mining and different rates for farming, animal breeding, etc...</li>
<li>Players form a town which controls territories. Initial territory claims must be connected.</li>
<li>War is capturing territory from another town.</li>
<li>Towns choose 1 territory to be their capital, which cannot be taken until all other territories are captured.</li>
<li>A resource chest can be built in the capital which will periodically spawn some resources dependent on the resource yield for that territory.</li>
<li>A captured territory is occupied and provides resource benefits for the occupier. The occupier has the option to annex territory and add it to their town.</li>
</ol>
<h3 id="how-is-this-better-than-towny"><a class="header" href="#how-is-this-better-than-towny">How is this better than Towny?</a></h3>
<p>Towny doesn't offer much in terms of any resource/economic differentiation between towns, so there's no economy or trade and a lack of justification for waging war. With this resource node system, we aim to change that by giving incentives for players to be strategic about what land they decide to conquer, where they choose to settle, and how they conduct themselves diplomatically (such as by building or breaking trade relations with other nations).</p>
<h2 id="territories"><a class="header" href="#territories">Territories</a></h2>
<p>As opposed to Towny's basic land unit being the &quot;Townblock&quot;, the Node's system uses &quot;Territories&quot;.</p>
<ul>
<li>Territories have unique resources.</li>
<li>Towns have &quot;power&quot;, which are points they spend on claiming territories</li>
<li>Each territory has a different &quot;power&quot; cost that a town must pay in order to claim.</li>
<li>A territory's power cost depends on its size and resources</li>
<li>More players in a town increases the town's power.</li>
<li>Each player's power contribution to their town increases over playtime (to a maximum value)</li>
</ul>
<p>The territories will also have a web editor that hooks into dynmap in order to better map out where the territories should go using JSON objects.</p>
<blockquote>
<p>See <a href="nodes/territories.html">Territories</a></p>
</blockquote>
<h1 id="resource-nodes"><a class="header" href="#resource-nodes">Resource Nodes</a></h1>
<p>Territory resources are defined by <strong>resource nodes</strong>. This allows
unique resources in different regions of the world (to facilitate
trade and economic differentiation). Territories have four main
resource components:</p>
<ul>
<li><strong>Income</strong>: items/blocks given on a periodic income schedule</li>
<li><strong>Ore</strong>: item drop rates when mining stone</li>
<li><strong>Crops</strong>: farm crops that can grow in a region and their growth speed</li>
<li><strong>Animals</strong>: animals that can breed in a region and their breed success rate</li>
</ul>
<p>Territories contain multiple <strong>Resource nodes</strong> which contribute to
the final territory resource components.</p>
<p>Each resource node must have a unique name to identify it (e.g. <strong>wheat</strong> or <strong>iron</strong>).</p>
<h2 id="format"><a class="header" href="#format">Format</a></h2>
<p>Resource nodes are described by JSON objects. Below is an example <strong>with all possible fields.</strong> Only <code>priority</code> and <code>cost</code> are required, other field are all optional. The next sections detail each component.</p>
<pre><code class="language-json">{
    &quot;icon&quot;: &quot;gold_ingot&quot;,
    &quot;priority&quot;: 50,
    &quot;cost&quot;: {
        &quot;scale&quot;: 1.4,
        &quot;constant&quot;: 10
    },

    &quot;income&quot;: {
        &quot;gold_ingot&quot;: 64,
        &quot;wheat&quot;: 32,
        &quot;diamond&quot;: 0.5,
        &quot;spawn_egg_cow&quot;: 1,
        &quot;spawn_egg_sheep&quot;: 0.5
    },
    &quot;ore&quot;: {
        &quot;coal&quot;: 0.5,
        &quot;gold_ore&quot;: [0.2, 2, 4]
    },
    &quot;crops&quot;: {
        &quot;wheat&quot;: 1.0,
        &quot;potato&quot;: 0.5,
        &quot;pumpkin&quot;: 0.8
    },
    &quot;animals&quot;: {
        &quot;sheep&quot;: 1.0,
        &quot;cow&quot;: 1.0,
        &quot;horse&quot;: 0.5
    },

    &quot;income_total_multiplier&quot;: 1.25,
    &quot;income_multiplier&quot;: {
        &quot;diamond&quot;: 1.5,
        &quot;spawn_egg_cow&quot;: 2.0
    },
    &quot;ore_total_multiplier&quot;: 1.25,
    &quot;ore_multiplier&quot;: {
        &quot;gold_ore&quot;: 1.5
    },
    &quot;crops_total_multiplier&quot;: 1.25,
    &quot;crops_multiplier&quot;: {
        &quot;wheat&quot;: 1.5,
        &quot;potato&quot;: 1.5
    },
    &quot;animals_total_multiplier&quot;: 1.25,
    &quot;animals_multiplier&quot;: {
        &quot;cow&quot;: 1.5,
        &quot;horse&quot;: 2.0
    },

    &quot;neighbor_income&quot;: {
        &quot;gold_ingot&quot;: 64,
        &quot;diamond&quot;: 0.5,
        &quot;spawn_egg_cow&quot;: 1,
    },
    &quot;neighbor_ore&quot;: {
        &quot;coal&quot;: 0.5,
        &quot;gold_ore&quot;: [0.2, 2, 4]
    },
    &quot;neighbor_crops&quot;: {
        &quot;wheat&quot;: 1.0,
        &quot;potato&quot;: 0.5,
        &quot;pumpkin&quot;: 0.8
    },
    &quot;neighbor_animals&quot;: {
        &quot;sheep&quot;: 1.0,
        &quot;cow&quot;: 1.0,
        &quot;horse&quot;: 0.5
    },

    &quot;neighbor_income_total_multiplier&quot;: 1.25,
    &quot;neighbor_income_multiplier&quot;: {
        &quot;diamond&quot;: 1.5,
        &quot;spawn_egg_cow&quot;: 2.0
    },
    &quot;neighbor_ore_total_multiplier&quot;: 1.25,
    &quot;neighbor_ore_multiplier&quot;: {
        &quot;gold_ore&quot;: 1.5
    },
    &quot;neighbor_crops_total_multiplier&quot;: 1.25,
    &quot;neighbor_crops_multiplier&quot;: {
        &quot;wheat&quot;: 1.5,
        &quot;potato&quot;: 1.5
    },
    &quot;neighbor_animals_total_multiplier&quot;: 1.25,
    &quot;neighbor_animals_multiplier&quot;: {
        &quot;cow&quot;: 1.5,
        &quot;horse&quot;: 2.0
    }
}
</code></pre>
<p>All Minecraft item names (used in <code>income</code> and <code>ore</code> keys) must be in all
lowercase with spaces replaced by _.</p>
<h3 id="icon"><a class="header" href="#icon">icon</a></h3>
<p><strong>Format</strong>: <code>&quot;icon&quot;: &quot;icon_name&quot;</code></p>
<p>Name of the icon displayed in the dynmap editor. Most icons are Minecraft
item names. Animal icons are in format <code>mob_name</code>, such as <code>mob_cow</code> or <code>mob_sheep</code>.
This has no in-game behavior, this is purely for web editor/viewer.</p>
<h3 id="priority-required"><a class="header" href="#priority-required">priority (required)</a></h3>
<p><strong>Format</strong>: <code>&quot;priority&quot;: Number</code></p>
<p>This is order that resource node properties are applied to a territory.
Lower priority resource nodes are applied first.</p>
<h3 id="cost-required"><a class="header" href="#cost-required">cost (required)</a></h3>
<p><strong>Format 1</strong>: <code>&quot;scale&quot;: Number</code><br />
<strong>Format 2</strong>: <code>&quot;const&quot;: Number</code></p>
<pre><code>&quot;cost&quot;: {
    &quot;scale&quot;: 1.4,
    &quot;constant&quot;: 10
}
</code></pre>
<p>This defines the resource power cost applied to the territory.
<a href="./4-1-territories.html#territory-cost">See territory cost model.</a></p>
<p>&quot;scale&quot; (or <strong>rs</strong>) is the power cost per chunk. &quot;const&quot; (or <strong>rc</strong>) is
the constant power cost for having this resource.</p>
<p><strong>total cost = base + rc + rs * a * chunks</strong></p>
<ul>
<li><strong>base</strong> = base cost</li>
<li><strong>chunks</strong> = size of territory</li>
<li><strong>a</strong> = fixed scale factor per chunk (so larger territories cost more)</li>
<li><strong>rs</strong> = resource scale factor (e.g. shitty resource wheat rs = 1, rare resource diamond rs = 2)</li>
<li><strong>rc</strong> = resource constant factor</li>
</ul>
<p>For territories with multiple resources, <strong>rs</strong> and <strong>rc</strong> are the total
from all resources: <strong>rs = rs1 * rs2 * ...</strong> and <strong>rc = rc1 + rc2 + ...</strong>.</p>
<p>Resource scale factors enforce that a large territory with a rare resource
is more expensive than small territory with same resource</p>
<h3 id="income"><a class="header" href="#income">income</a></h3>
<p><strong>Format 1</strong>: <code>&quot;item_name&quot;: amount</code><br />
<strong>Format 2</strong>: <code>&quot;spawn_egg_monster&quot;: amount</code></p>
<pre><code>&quot;income&quot;: {
    &quot;gold_ingot&quot;: 64,
    &quot;spawn_egg_cow&quot;: 1
}
</code></pre>
<p>These define items/blocks given to towns during every income cycle
(found in town income chest using <code>/town income</code>). Each <code>item_name</code> is a
normal Minecraft item name. To give spawn eggs, the name must be
<code>&quot;spawn_egg_monster&quot;</code> (e.g. <code>&quot;spawn_egg_sheep&quot;</code>).</p>
<p>The amount can either be a <code>Double</code> &lt;1.0 or <code>Integer</code> &gt;1, with following effects on income:</p>
<ul>
<li><strong>Amount &lt;1.0</strong>: Performs a random roll, gives 1 item if <code>random() &lt; amount</code></li>
<li><strong>Amount &gt;1.0</strong>: Gives the amount as an integer (casts to <code>Integer</code>)</li>
</ul>
<p>For occupation taxes, fractional amounts given to the occupier
are always rounded up using <code>Math.ceil()</code>.
So if the income amount &lt;= 1, for taxes it will always go to the occupier.</p>
<h3 id="ore"><a class="header" href="#ore">ore</a></h3>
<p><strong>Format 1</strong>: <code>&quot;item_name&quot;: drop_rate</code><br />
<strong>Format 2</strong>: <code>&quot;item_name&quot;: [drop_rate, min_amount, max_amount]</code></p>
<pre><code>&quot;ore&quot;: {
    &quot;coal&quot;: 0.5,
    &quot;gold_ore&quot;: [0.2, 2, 4]
}
</code></pre>
<p>These define probabilities for items to drop when mining stone or
other blocks set in config (often referred to as
<a href="https://github.com/DevotedMC/HiddenOre">&quot;hidden ore&quot;</a>). </p>
<p><code>drop_rate</code> is the probability that the item will drop. <code>min_amount</code>
and <code>max_amount</code> are the min and max items that drop when the event
triggers. The shorthand Format 1 <code>&quot;item_name&quot;: drop_rate</code> defaults
both <code>min_amount = max_amount = 1</code>.</p>
<h3 id="crops"><a class="header" href="#crops">crops</a></h3>
<p><strong>Format</strong>: <code>&quot;crop_type&quot;: growth_rate</code></p>
<pre><code>&quot;crops&quot;: {
    &quot;wheat&quot;: 1.0,
    &quot;potato&quot;: 0.5
}
</code></pre>
<p>By default, no crops will grow in a territory without adding specific crops
here. An entry here enables crops of that type to grow. The <code>growth_rate</code> sets
the probability the crop will grow during normal crop tick. Setting
<code>growth_rate = 1.0</code> means normal growth rate. Setting <code>&lt; 1.0</code> means
crops will grow slower.</p>
<p>Crops can be any growable block, e.g. wheat, sugar cane, pumpkin, melon, cactus, etc...</p>
<h3 id="animals"><a class="header" href="#animals">animals</a></h3>
<p><strong>Format</strong>: <code>&quot;animal_type&quot;: breed_success_rate</code></p>
<pre><code>&quot;animals&quot;: {
    &quot;sheep&quot;: 1.0,
    &quot;horse&quot;: 0.5
}
</code></pre>
<p>By default, when animals breed, there will be no child in territories without
animal settings here. An entry here enables animals of that type to breed.
The <code>breed_success_rate</code> sets the probability that a child will be created.
Setting <code>breed_success_rate = 1.0</code> means normal breeding. Setting <code>&lt; 1.0</code> means
some breed events will fail to produce offspring.</p>
<h3 id="income_total_multiplier"><a class="header" href="#income_total_multiplier">income_total_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;income_total_multiplier&quot;: Number</code></p>
<p>Multiplies all territory income values by this number.</p>
<h3 id="income_multiplier"><a class="header" href="#income_multiplier">income_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;item_name&quot;: Number</code></p>
<pre><code>&quot;income_multiplier&quot;: {
    &quot;diamond&quot;: 1.5,
    &quot;iron_ore&quot;: 1.2
}
</code></pre>
<p>Multiplies specific territory income items by value specified.
e.g. above, <code>diamond</code> income gets 1.5x multiplier, <code>iron_ore</code> income
gets 1.2x multiplier.</p>
<h3 id="ore_total_multiplier"><a class="header" href="#ore_total_multiplier">ore_total_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;ore_total_multiplier&quot;: Number</code></p>
<p>Multiplies all territory hidden ore drop probability by this number.</p>
<h3 id="ore_multiplier"><a class="header" href="#ore_multiplier">ore_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;item_name&quot;: Number</code></p>
<pre><code>&quot;ore_multiplier&quot;: {
    &quot;gold_ore&quot;: 1.5,
    &quot;coal&quot;: 1.25
}
</code></pre>
<p>Multiplies specific territory hidden ore drop probability by value specified.
e.g. above, <code>gold_ore</code> probability gets 1.5x multiplier, <code>coal</code> probability
gets 1.25x multiplier. <strong>This does not affect min/max item drop count.</strong></p>
<h3 id="crops_total_multiplier"><a class="header" href="#crops_total_multiplier">crops_total_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;crops_total_multiplier&quot;: Number</code></p>
<p>Multiplies all territory crop growth probability by this number.</p>
<h3 id="crops_multiplier"><a class="header" href="#crops_multiplier">crops_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;crop_type&quot;: Number</code></p>
<pre><code>&quot;crops_multiplier&quot;: {
    &quot;wheat&quot;: 1.5,
    &quot;potato&quot;: 1.25
}
</code></pre>
<p>Multiplies specific territory crop growth probability by value specified.
e.g. above, <code>wheat</code> growth probability gets 1.5x multiplier,
<code>potato</code> growth probability gets 1.25x multiplier.</p>
<h3 id="animals_total_multiplier"><a class="header" href="#animals_total_multiplier">animals_total_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;animals_total_multiplier&quot;: Number</code></p>
<p>Multiplies all territory animal breed success probability by this number.</p>
<h3 id="animals_multiplier"><a class="header" href="#animals_multiplier">animals_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;animal_type&quot;: Number</code></p>
<pre><code>&quot;animals_multiplier&quot;: {
    &quot;cow&quot;: 1.5,
    &quot;horse&quot;: 2.0
}
</code></pre>
<p>Multiplies specific territory animal breed success probability by value specified.
e.g. above, <code>cow</code> breed success probability gets 1.5x multiplier,
<code>horse</code> breed success probability gets 2.0x multiplier.</p>
<h3 id="neighbor_income"><a class="header" href="#neighbor_income">neighbor_income</a></h3>
<p><strong>Format 1</strong>: <code>&quot;item_name&quot;: amount</code><br />
<strong>Format 2</strong>: <code>&quot;spawn_egg_monster&quot;: amount</code></p>
<pre><code>&quot;neighbor_income&quot;: {
    &quot;gold_ingot&quot;: 4,
    &quot;spawn_egg_cow&quot;: 1,
}
</code></pre>
<p>Same format as <code>income</code>, except this adds values to the territory's neighbor
territories (NOT the territory itself).</p>
<h3 id="neighbor_ore"><a class="header" href="#neighbor_ore">neighbor_ore</a></h3>
<p><strong>Format 1</strong>: <code>&quot;item_name&quot;: drop_rate</code><br />
<strong>Format 2</strong>: <code>&quot;item_name&quot;: [drop_rate, min_amount, max_amount]</code></p>
<pre><code>&quot;neighbor_ore&quot;: {
    &quot;coal&quot;: 0.5,
    &quot;gold_ore&quot;: [0.2, 2, 4]
}
</code></pre>
<p>Same format as <code>ore</code>, except this adds values to the territory's neighbor
territories (NOT the territory itself).</p>
<h3 id="neighbor_crops"><a class="header" href="#neighbor_crops">neighbor_crops</a></h3>
<p><strong>Format</strong>: <code>&quot;crop_type&quot;: growth_rate</code></p>
<pre><code>&quot;neighbor_crops&quot;: {
    &quot;wheat&quot;: 0.5,
    &quot;potato&quot;: 0.5
}
</code></pre>
<p>Same format as <code>crops</code>, except this adds values to the territory's neighbor
territories (NOT the territory itself).</p>
<h3 id="neighbor_animals"><a class="header" href="#neighbor_animals">neighbor_animals</a></h3>
<p><strong>Format</strong>: <code>&quot;animal_type&quot;: breed_success_rate</code></p>
<pre><code>&quot;neighbor_animals&quot;: {
    &quot;sheep&quot;: 1.0,
    &quot;horse&quot;: 0.5
}
</code></pre>
<p>Same format as <code>animals</code>, except this adds values to the territory's neighbor
territories (NOT the territory itself).</p>
<h3 id="neighbor_income_total_multiplier"><a class="header" href="#neighbor_income_total_multiplier">neighbor_income_total_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;neighbor_income_total_multiplier&quot;: Number</code></p>
<p>Multiplies all neighbor territory income values by this number.
Only affects neighbor, NOT territory itself.</p>
<h3 id="neighbor_income_multiplier"><a class="header" href="#neighbor_income_multiplier">neighbor_income_multiplier</a></h3>
<pre><code>&quot;neighbor_income_multiplier&quot;: {
    &quot;diamond&quot;: 1.5,
    &quot;spawn_egg_cow&quot;: 2.0
}
</code></pre>
<p>Multiplies specific neighbor territory income items by value specified.
Same as <code>income_multiplier</code> except applies to neighbor territories, NOT
the territory itself.</p>
<h3 id="neighbor_ore_total_multiplier"><a class="header" href="#neighbor_ore_total_multiplier">neighbor_ore_total_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;neighbor_ore_total_multiplier&quot;: Number</code></p>
<p>Multiplies all neighbor territory hidden ore drop probability by this number.
Only affects neighbor, NOT territory itself.</p>
<h3 id="neighbor_ore_multiplier"><a class="header" href="#neighbor_ore_multiplier">neighbor_ore_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;item_name&quot;: Number</code></p>
<pre><code>&quot;neighbor_ore_multiplier&quot;: {
    &quot;gold_ore&quot;: 1.5,
    &quot;coal&quot;: 1.25
}
</code></pre>
<p>Multiplies specific neighbor territory hidden ore drop probability by
value specified. Same as <code>ore_multiplier</code> except applies to neighbor
territories, NOT the territory itself. Only affects probability,
not item drop min/max count.</p>
<h3 id="neighbor_crops_total_multiplier"><a class="header" href="#neighbor_crops_total_multiplier">neighbor_crops_total_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;neighbor_crops_total_multiplier&quot;: Number</code></p>
<p>Multiplies all neighbor territory crop growth probability by this number.
Only affects neighbor, NOT territory itself.</p>
<h3 id="neighbor_crops_multiplier"><a class="header" href="#neighbor_crops_multiplier">neighbor_crops_multiplier</a></h3>
<pre><code>&quot;neighbor_crops_multiplier&quot;: {
    &quot;wheat&quot;: 1.5,
    &quot;potato&quot;: 1.5
}
</code></pre>
<p>Multiplies specific neighbor territory crops growth probability by value.
Same as <code>crops_multiplier</code> except applies to neighbor territories, NOT
the territory itself.</p>
<h3 id="neighbor_animals_total_multiplier"><a class="header" href="#neighbor_animals_total_multiplier">neighbor_animals_total_multiplier</a></h3>
<p><strong>Format</strong>: <code>&quot;neighbor_animals_total_multiplier&quot;: Number</code></p>
<p>Multiplies all neighbor territory animal breed success probability by this number.
Only affects neighbor, NOT territory itself.</p>
<h3 id="neighbor_animals_multiplier"><a class="header" href="#neighbor_animals_multiplier">neighbor_animals_multiplier</a></h3>
<pre><code>&quot;neighbor_animals_multiplier&quot;: {
    &quot;cow&quot;: 1.5,
    &quot;horse&quot;: 2.0
}
</code></pre>
<p>Multiplies specific neighbor territory animal breed success probability
by value specified. Same as <code>animals_multiplier</code> except applies to neighbor
territories, NOT the territory itself.</p>
<h2 id="intended-usage"><a class="header" href="#intended-usage">Intended Usage</a></h2>
<p>Resource nodes are intended as <em>composable units.</em> This means that instead
of making very specific resource nodes for each territory, it's best to make
generic nodes such as a <strong>wheat</strong>, <strong>coal</strong>, <strong>horses</strong>, or <strong>iron</strong> and attach
them to many different territories. Territories are intended to have multiple
resource nodes. Examples of intended usage:</p>
<ul>
<li><strong>Agriculture territory</strong>: this could have <strong>wheat</strong>, <strong>potato</strong> and <strong>sheep</strong> nodes</li>
<li><strong>Iron territory</strong>: this could have an <strong>iron</strong> node</li>
<li><strong>Mongolian horse steppe</strong>: this could have a <strong>horses</strong> nodes</li>
<li><strong>Coal-rich territory</strong>: because resource node names are unique, have several coal nodes: <strong>coal</strong>, <strong>coal2</strong>, <strong>coal3</strong> with similar properties attached to this territory (can have <strong>coal</strong> and <strong>coal2</strong> set ore mining rates while <strong>coal3</strong> simply provides additional fixed income)</li>
</ul>
<h2 id="combined-resource-node-rate-calculations"><a class="header" href="#combined-resource-node-rate-calculations">Combined Resource Node Rate Calculations</a></h2>
<ul>
<li>Rates for the same property are summed together.</li>
<li>Properties are added together sequentially in order of priority (low to high)</li>
<li>Multipliers are applied to properties that exist when it is
applied. So in general, make resource nodes with multipliers separate
and with higher priority value.</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code>resources = {
    &quot;iron&quot;: {
        &quot;priority&quot;: 0,
        &quot;ore&quot;: { &quot;iron_ore&quot;: 0.5 }
    },
    &quot;gold&quot;: {
        &quot;priority&quot;: 0,
        &quot;ore&quot;: { &quot;gold_ore&quot;: 0.5 }
    },
    &quot;diamond&quot;: {
        &quot;priority&quot;: 100,
        &quot;ore:&quot; { &quot;diamond_ore&quot;: 0.5 }
    },
    &quot;bonus_ore&quot;: {
        &quot;priority&quot;: 50,
        &quot;ore_total_multiplier&quot;: 1.5
    }
}
</code></pre>
<p>The sorted order will be <code>[&quot;iron&quot;, &quot;gold&quot;, &quot;bonus_ore&quot;, &quot;diamond&quot;]</code>
(from sorting by priority low to high). The territory resources is
calculated as:</p>
<ol>
<li>Apply &quot;iron&quot;:</li>
</ol>
<pre><code>resources = {
    ore = {
        iron_ore: 0.5,
    }
}
</code></pre>
<ol start="2">
<li>Apply &quot;gold&quot;:</li>
</ol>
<pre><code>resources = {
    ore = {
        iron_ore: 0.5,
        gold_ore: 0.5,
    }
}
</code></pre>
<ol start="3">
<li>Apply &quot;bonus_ore&quot; (1.5x multipler on all ore):</li>
</ol>
<pre><code>resources = {
    ore = {
        iron_ore: 0.75,
        gold_ore: 0.75,
    }
}
</code></pre>
<ol start="4">
<li>Apply &quot;diamond&quot;:</li>
</ol>
<pre><code>resources = {
    ore = {
        iron_ore: 0.75,
        gold_ore: 0.75,
        diamond_ore: 0.5,
    }
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../mech/cults/transmutations.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../mech/nodes/territories.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../mech/cults/transmutations.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../mech/nodes/territories.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../theme/pagetoc.js"></script>


    </body>
</html>
